#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ

# –ü–æ–ª—É—á–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–∫—Ä–∏–ø—Ç–∞
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

echo "üéÆ –ó–∞–ø—É—Å–∫ –∏–≥—Ä..."
echo "================================"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ Python
if command -v python3 &> /dev/null; then
    echo "‚úì –ù–∞–π–¥–µ–Ω Python 3"
    echo "–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ http://localhost:8000"
    echo "–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏"
    echo "================================"
    cd "$DIR"
    python3 -m http.server 8000
    
elif command -v python &> /dev/null; then
    echo "‚úì –ù–∞–π–¥–µ–Ω Python 2"
    echo "–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ http://localhost:8000"
    echo "–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏"
    echo "================================"
    cd "$DIR"
    python -m SimpleHTTPServer 8000
    
else
    echo "‚ùå Python –Ω–µ –Ω–∞–π–¥–µ–Ω"
    echo "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python"
    exit 1
fi
